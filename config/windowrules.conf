# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Window Rules                           ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
#
# For documentation, see:
# https://wiki.hyprland.org/Configuring/Window-Rules/

# -------------------------------------------------------------
# Layer Rules (for Waybar, notifications, etc.)
# -------------------------------------------------------------
layerrule = blur, waybar
layerrule = ignorezero, waybar
layerrule = animation slide down, waybar
layerrule = noanim, ^(term_kitty|wezterm_scratch)$ # No animation for scratchpad toggle

# Add blur to swaync for glass effect
layerrule = blur, swaync
layerrule = ignorezero, swaync

# -------------------------------------------------------------
# Global Rules
# -------------------------------------------------------------
# All floating windows will have a different border
windowrule = bordercolor $accent_bright $orange_bright 45deg, floating:1
windowrule = rounding 12, floating:1

# All tiling windows
windowrule = rounding 6, floating:0
windowrule = bordersize 3, floating:0

# -------------------------------------------------------------
# Fullscreen Optimization Rules (Fix Mouse Stuttering)
# -------------------------------------------------------------
# Disable all effects for fullscreen applications
windowrulev2 = immediate, fullscreen:1
windowrulev2 = noblur, fullscreen:1
windowrulev2 = noshadow, fullscreen:1
windowrulev2 = noanim, fullscreen:1
windowrulev2 = noborder, fullscreen:1

# Gaming applications optimization
windowrulev2 = immediate, class:^(steam_app_)(.*)$
windowrulev2 = noblur, class:^(steam_app_)(.*)$
windowrulev2 = noshadow, class:^(steam_app_)(.*)$
windowrulev2 = noanim, class:^(steam_app_)(.*)$
windowrulev2 = noborder, class:^(steam_app_)(.*)$

# Video and media applications
windowrulev2 = immediate, class:^(mpv|vlc)$
windowrulev2 = noblur, class:^(mpv|vlc)$
windowrulev2 = noshadow, class:^(mpv|vlc)$

# Browser fullscreen video optimization
windowrulev2 = immediate, title:^(.*(YouTube|Netflix|Twitch|Prime Video).*)$
windowrulev2 = noblur, title:^(.*(YouTube|Netflix|Twitch|Prime Video).*)$
windowrulev2 = noshadow, title:^(.*(YouTube|Netflix|Twitch|Prime Video).*)$

# -------------------------------------------------------------
# Floating Dialogs & Popups
# -------------------------------------------------------------
windowrule = float, class:^(org.pulseaudio.pavucontrol)$
windowrule = float, class:^(blueman-manager)$
windowrule = float, class:^(CachyOSHello)$
windowrule = float, class:^(zenity)$
windowrule = float, class:^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde|xdg-desktop-portal-hyprland)(.*)$
windowrule = float, class:^(polkit-gnome-authentication-agent-1|hyprpolkitagent|org.kde.polkit-kde-authentication-agent-1)(.*)$

# Make common dialogs float and look nice
windowrulev2 = float, title:^(Open File|Save File|Select.*|File Operation.*|Confirm.*|Quit.*|Picture in picture)$
windowrulev2 = center, title:^(Open File|Save File|Select.*|File Operation.*|Confirm.*|Quit.*|Picture in picture)$
windowrulev2 = size 70% 60%, title:^(Open File|Save File|Select.*|File Operation.*)$

# -------------------------------------------------------------
# Application-Specific Rules
# -------------------------------------------------------------

# --- Terminals ---
# kitty
windowrulev2 = bordercolor $neon_pink $neon_blue 45deg, class:^(kitty)$
windowrulev2 = animation slide, class:^(kitty)$
# wezterm
windowrulev2 = bordercolor $neon_purple $neon_blue 45deg, class:^(org.wezfurlong.wezterm)$
windowrulev2 = opacity 0.92 0.85, class:^(org.wezfurlong.wezterm)$ # Active/inactive opacity
windowrulev2 = animation slide, class:^(org.wezfurlong.wezterm)$

# --- Scratchpads (Wezterm Primary, Kitty Secondary) ---
# Wezterm - Primary terminal with enhanced neon theme
windowrulev2 = float, class:^(wezterm_scratch)$
windowrulev2 = center, class:^(wezterm_scratch)$
windowrulev2 = size 80% 70%, class:^(wezterm_scratch)$
windowrulev2 = bordercolor $neon_pink $neon_blue 45deg, class:^(wezterm_scratch)$
windowrulev2 = animation slide, class:^(wezterm_scratch)$
windowrulev2 = rounding 12, class:^(wezterm_scratch)$
windowrulev2 = opacity 0.95 0.88, class:^(wezterm_scratch)$

# Kitty - Secondary terminal
windowrulev2 = float, class:^(term_kitty)$
windowrulev2 = center, class:^(term_kitty)$
windowrulev2 = size 70% 55%, class:^(term_kitty)$
windowrulev2 = bordercolor $neon_green $neon_purple 45deg, class:^(term_kitty)$
windowrulev2 = animation popin, class:^(term_kitty)$
windowrulev2 = rounding 16, class:^(term_kitty)$
windowrulev2 = opacity 0.92 0.85, class:^(term_kitty)$

# --- File Manager (Thunar) ---
windowrulev2 = float, class:^(thunar)$
windowrulev2 = size 65% 75%, class:^(thunar)$
windowrulev2 = center, class:^(thunar)$
windowrulev2 = bordercolor $neon_blue $neon_green 45deg, class:^(thunar)$
windowrulev2 = opacity 0.92 0.88, class:^(thunar)$
windowrulev2 = animation windowsIn, class:^(thunar)$
windowrulev2 = rounding 8, class:^(thunar)$
# Thunar dialogs
windowrulev2 = float, title:^(File Operation Progress)$
windowrulev2 = float, title:^(Confirm.*)$, class:^(thunar)$

# --- Other Apps ---
# Beeper
windowrulev2 = float, class:^(Beeper)$
windowrulev2 = size 70% 80%, class:^(Beeper)$
windowrulev2 = center, class:^(Beeper)$
windowrulev2 = bordercolor $neon_pink $neon_purple 45deg, class:^(Beeper)$
windowrulev2 = opacity 0.95 0.90, class:^(Beeper)$
windowrulev2 = animation slide, class:^(Beeper)$
windowrulev2 = rounding 10, class:^(Beeper)$
# Beeper Notifications
windowrulev2 = float, title:^(Beeper Notification)$
windowrulev2 = bordercolor $neon_green $neon_blue 45deg, title:^(Beeper Notification)$
windowrulev2 = animation popin, title:^(Beeper Notification)$
windowrulev2 = rounding 16, title:^(Beeper Notification)$

# Ulauncher
windowrulev2 = float, class:^(ulauncher)$
windowrulev2 = stayfocused, class:^(ulauncher)$
windowrulev2 = pin, class:^(ulauncher)$
windowrulev2 = dimaround, class:^(ulauncher)$
windowrulev2 = noshadow, class:^(ulauncher)$
windowrulev2 = center, class:^(ulauncher)$

# --- 1Password ---
windowrulev2 = float, title:^(1Password.*)$
windowrulev2 = center, title:^(1Password.*)$
windowrulev2 = size 60% 70%, title:^(1Password)$ # Main Window
windowrulev2 = size 50% 50%, title:^(1Password - Quick Access)$ # Quick Access
windowrulev2 = bordercolor $neon_blue $neon_green 45deg, title:^(1Password.*)$
windowrulev2 = rounding 12, title:^(1Password.*)$

# --- Mullvad VPN ---
windowrulev2 = float, class:^(Mullvad VPN)$
windowrulev2 = center, class:^(Mullvad VPN)$

windowrulev2 = bordercolor $neon_purple $neon_pink 45deg, class:^(Mullvad VPN)$
windowrulev2 = rounding 10, class:^(Mullvad VPN)$
windowrulev2 = opacity 0.94 0.90, class:^(Mullvad VPN)$
windowrulev2 = animation slide, class:^(Mullvad VPN)$
# Mullvad dialogs and popups
windowrulev2 = float, title:^(Mullvad.*)$
windowrulev2 = center, title:^(Mullvad.*)$
windowrulev2 = bordercolor $neon_blue $neon_purple 45deg, title:^(Mullvad.*)$
windowrulev2 = rounding 8, title:^(Mullvad.*)$


# --- Cursor AI Code Editor ---
windowrulev2 = bordercolor $neon_blue $neon_purple 45deg, class:^(cursor)$
windowrulev2 = opacity 0.98 0.95, class:^(cursor)$
windowrulev2 = animation slide, class:^(cursor)$
windowrulev2 = rounding 8, class:^(cursor)$
# Cursor splash screen
windowrulev2 = float, title:^(Cursor)$, class:^(cursor)$
windowrulev2 = center, title:^(Cursor)$, class:^(cursor)$
windowrulev2 = bordercolor $neon_pink $neon_blue 45deg, title:^(Cursor)$, class:^(cursor)$
windowrulev2 = animation popin, title:^(Cursor)$, class:^(cursor)$
windowrulev2 = rounding 12, title:^(Cursor)$, class:^(cursor)$
# Cursor dialogs and popups
windowrulev2 = float, title:^(Open Folder|Select Folder|Save|Extension|Settings)$, class:^(cursor)$
windowrulev2 = center, title:^(Open Folder|Select Folder|Save|Extension|Settings)$, class:^(cursor)$
windowrulev2 = size 60% 70%, title:^(Open Folder|Select Folder|Save|Extension|Settings)$, class:^(cursor)$
windowrulev2 = bordercolor $neon_green $neon_purple 45deg, title:^(Open Folder|Select Folder|Save|Extension|Settings)$, class:^(cursor)$
windowrulev2 = rounding 10, title:^(Open Folder|Select Folder|Save|Extension|Settings)$, class:^(cursor)$

layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window
layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window
